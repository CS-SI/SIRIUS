<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sirius: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="sirius_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sirius
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Sirius Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 align="center"><br />
 <a href="https://CS-SI.github.io/SIRIUS/html/Sirius.html"></a> </h1>
<h4 align="center">A fast resampling software with simple to plugin library.</h4>
<p><a href="https://travis-ci.org/CS-SI/SIRIUS"></a> <a href="https://hub.docker.com/r/ldumas/sirius_dockerfile/tags/"></a> <a href="https://github.com/CS-SI/SIRIUS/issues"></a> <a href="https://opensource.org/licenses/GPL-3.0/"></a> <a href="http://makeapullrequest.com"></a> </p>
<p><a href="#overview">Overview</a> • <a href="#docker-app">Docker App</a> • <a href="#how-to-build">How To Build</a> • <a href="#how-to-use">How To Use</a> • <a href="#credits">Acknowledgement</a> </p>
<h4 align="center"><a href="https://uk.c-s.fr/"></a> </h4>
<p>As of today, and to our knowledge, there is no complete open source resampling tool for satellite imagery based on frequency resampling. Numerous softwares, some being open source, can be found to resample (most of the time upsample) data. Most of them offers various interpolators (<a href="https://www.gimp.org/fr/" title="GNU Image Manipulation Program">GIMP</a>, <a href="https://clouard.users.greyc.fr/Pandore" title="Pandore: Une bibliothèque d&apos;opérateurs de traitement d&apos;images (Version 6.6). Laboratoire GREYC.">Pandore</a>, <a href="https://doi.org/10.5201/ipol.2011.g_lmii" title="Getreuer, P. (2011). Linear Methods for Image Interpolation. Image Processing On Line, 1, 238259.">Getreuer</a>, <a href="https://www.orfeo-toolbox.org" title="Orfeo ToolBox">OTB</a>), some being very fast but rather innacurate (nearest neighbors, bilinear) and some offering high quality results (more often than not based on a Lancsoz convolutional kernel) but being very time consuming. Then only a few provides ways to deal efficiently with large amount of data (<a href="https://www.orfeo-toolbox.org" title="Orfeo ToolBox">OTB</a>) or proposes a fast and accurate sinus cardinal interpolator implemented as frequencial zero padding (<a href="https://doi.org/10.5201/ipol.2011.g_lmii" title="Getreuer, P. (2011). Linear Methods for Image Interpolation. Image Processing On Line, 1, 238259.">Getreuer</a>). None of those however allows one to resample satellite images in frequency domain with a floating upscaling or downscaling factor.</p>
<p>It could be argued that the <a href="https://www.orfeo-toolbox.org" title="Orfeo ToolBox">OTB</a> remains the best solution for the purpose of resampling satellite images. However, and though there exists ways to filter satellite images in frequency domain with the <a href="https://www.orfeo-toolbox.org" title="Orfeo ToolBox">OTB</a>, it is not possible to resample such an image in frequency domain.</p>
<p>Sirius then aims at filling this void offering a fast and simple to plug-in resampling C++ library that is taking advantage of the Fourier Transform.</p>
<h2>Overview</h2>
<ul>
<li><a href="https://CS-SI.github.io/SIRIUS/html/Sirius.html">Sirius documentation</a></li>
<li><a href="http://www.doxygen.org" title="Doxygen">Doxygen</a></li>
<li><a class="el" href="md_INTERNALS.html">Internals</a></li>
</ul>
<h2>Docker App</h2>
<p>Sirius is delivered inside a docker container. Assuming one has previously installed docker, then Sirius can be launched using the following commands :</p>
<div class="fragment"><div class="line"><span class="preprocessor"># pull image from the registry</span></div><div class="line">docker pull ldumas/sirius_dockerfile:<a class="code" href="namespacesirius.html">sirius</a></div><div class="line"><span class="preprocessor"># then run sirius</span></div><div class="line">docker run ldumas/sirius_dockerfile:<a class="code" href="namespacesirius.html">sirius</a> [OPTION...] input-image output-image</div><div class="line"></div><div class="line"><span class="preprocessor"># if no arguments are set then sirius is launched without any argument and its help is displayed</span></div><div class="line"><span class="preprocessor"># see below for the list of sirius args</span></div><div class="line"></div><div class="line"><span class="preprocessor"># note that using docker volume might be a good solution to give the container access to input-image</span></div><div class="line"><span class="preprocessor"># and to give host access to the output-image :</span></div><div class="line"><span class="preprocessor">docker run -v /home/user/outdir/:/outdir -v /home/user/input_images:/input ldumas/sirius_dockerfile:sirius /input/input-image.tif /outdir/output-image.tif -r 1:2</span></div></div><!-- fragment --><h2>How to Build</h2>
<p>Sirius is using <a href="https://cmake.org/" title="CMake">CMake</a> to build its libraries and executables.</p>
<h3>Requirements</h3>
<ul>
<li>C++14 compiler (GCC &gt;= 5)</li>
<li><a href="https://cmake.org/" title="CMake">CMake</a> &gt;=3.2</li>
<li><a href="http://www.gdal.org/" title="Geospatial Data Abstraction Library">GDAL</a> development kit, &gt;=2</li>
<li><a href="http://www.fftw.org/" title="Fastest Fourier Transform in the West">FFTW</a> development kit, &gt;=3</li>
<li><a href="http://www.doxygen.org" title="Doxygen">Doxygen</a> if documentation option is enabled</li>
</ul>
<h3>Internal dependencies</h3>
<ul>
<li><a href="https://github.com/gabime/spdlog/tree/v0.17.0" title="spdlog v0.17.0">spdlog v0.17.0</a></li>
<li><a href="https://github.com/jarro2783/cxxopts/tree/v2.1.0" title="cxxopts v2.1.0">cxxopts v2.1.0</a></li>
<li><a href="https://github.com/Microsoft/GSL/tree/v1.0.0" title="Guideline Support Library v1.0.0">GSL v1.0.0</a></li>
<li><a href="https://github.com/catchorg/Catch2/tree/v2.2.3" title="Catch v2.2.3">catch v2.2.3</a></li>
<li><a href="https://github.com/rpavlik/cmake-modules" title="CMake Modules">cmake-modules</a></li>
</ul>
<h3>Options</h3>
<ul>
<li><code>CMAKE_BUILD_TYPE</code>: Debug, Release, RelWithDebInfo or MinSizeRel</li>
<li><code>CMAKE_INSTALL_PREFIX</code>: directory path where the built artifacts (include directory, library, docs) will be gathered using install target</li>
<li><code>SIRIUS_VERSION</code>: set Sirius library version (default is <code>0.0.0</code>)</li>
<li><code>SIRIUS_REVISION_COMMIT</code>: set Sirius library revision commit (default is <code>sirius-no-revision-commit</code>)</li>
<li><code>ENABLE_SIRIUS_EXECUTABLE</code>: set to <code>ON</code> to enable sirius target executable</li>
<li><code>ENABLE_CACHE_OPTIMIZATION</code>: set to <code>ON</code> to build with cache optimization for FFTW and Filter</li>
<li><code>ENABLE_GSL_CONTRACTS</code>: set to <code>ON</code> to build with GSL contracts (e.g. bounds checking). This option should be <code>OFF</code> on release mode.</li>
<li><code>ENABLE_LOGS</code>: set to <code>ON</code> if you want to build Sirius with the logs</li>
<li><code>ENABLE_UNIT_TESTS</code>: set to <code>ON</code> if you want to build the unit tests</li>
<li><code>ENABLE_DOCUMENTATION</code>: set to <code>ON</code> if you want to build the documentation</li>
</ul>
<p>Sirius version can be extracted from <code>git describe</code> and revision commit from <code>git rev-parse HEAD</code>. If version and revision commit are not provided, <a href="https://cmake.org/" title="CMake">CMake</a> will try to extract them with the latter git commands.</p>
<h3>Example</h3>
<div class="fragment"><div class="line"><span class="preprocessor"># CWD is Sirius root directory</span></div><div class="line">mkdir .build</div><div class="line">cd .build</div><div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release \</div><div class="line">         -DCMAKE_INSTALL_PREFIX=/tmp/<a class="code" href="namespacesirius.html">sirius</a> \</div><div class="line">         -DENABLE_SIRIUS_EXECUTABLE=ON \</div><div class="line">         -DENABLE_CACHE_OPTIMIZATION=ON \</div><div class="line">         -DENABLE_GSL_CONTRACTS=OFF \</div><div class="line">         -DENABLE_LOGS=ON \</div><div class="line">         -DENABLE_UNIT_TESTS=OFF \</div><div class="line">         -DENABLE_DOCUMENTATION=ON</div><div class="line">cmake --build . --target <a class="code" href="namespacesirius.html">sirius</a></div><div class="line">cmake --build . --target doc</div><div class="line">cmake --build . --target install</div></div><!-- fragment --><p>See also <code>.travis.yml</code> and <code>.travis/create_cmake_project.sh</code></p>
<h2>How to use</h2>
<h3>Host requirements</h3>
<ul>
<li><a href="http://www.gdal.org/" title="Geospatial Data Abstraction Library">GDAL</a> library</li>
<li><a href="http://www.fftw.org/fftw-paper-ieee.pdf" title="Matteo Frigo and Steven G. Johnson, “The design and implementation of FFTW3,” Proc. IEEE 93 (2), 216231 (2005)">FFTW3</a> library</li>
</ul>
<h3>Sirius standalone tool</h3>
<p>Sirius is shipped as a standalone tool that offers filtering and resampling features.</p>
<div class="fragment"><div class="line">$ ./<a class="code" href="namespacesirius.html">sirius</a> -h</div><div class="line">Sirius X.Y.Z (...)</div><div class="line">Standalone tool to resample and filter images in the frequency domain</div><div class="line"></div><div class="line">Usage:</div><div class="line">  ./<a class="code" href="namespacesirius.html">sirius</a> [OPTION...] input-image output-image</div><div class="line"></div><div class="line">  -h, --help           Show help</div><div class="line">  -v, --verbosity arg  Set verbosity level</div><div class="line">                       (trace,debug,info,warn,err,critical,off) (<span class="keywordflow">default</span>: info)</div><div class="line"></div><div class="line"> resampling options:</div><div class="line">  -r, --resampling-ratio arg    Resampling ratio as input:output, allowed</div><div class="line">                                format: I (equivalent to I:1), I:O (<span class="keywordflow">default</span>: 1:1)</div><div class="line">      --no-image-decomposition  Do not decompose the input image (<span class="keywordflow">default</span>:</div><div class="line">                                periodic plus smooth image decomposition)</div><div class="line">      --upsample-periodization  Force periodization as upsampling algorithm</div><div class="line">                                (<span class="keywordflow">default</span> algorithm <span class="keywordflow">if</span> a filter is provided). A</div><div class="line">                                filter is required to use <span class="keyword">this</span> algorithm</div><div class="line">      --upsample-zero-padding   Force zero padding as upsampling algorithm</div><div class="line">                                (<span class="keywordflow">default</span> algorithm <span class="keywordflow">if</span> no filter is provided)</div><div class="line"></div><div class="line"> filter options:</div><div class="line">      --filter arg           Path to the filter image to apply to the source</div><div class="line">                             or resampled image</div><div class="line">      --filter-normalize     Normalize filter coefficients (<span class="keywordflow">default</span> is no</div><div class="line">                             normalization)</div><div class="line">      --zero-pad-real-edges  Force zero padding strategy on real input edges</div><div class="line">                             (<span class="keywordflow">default</span>: mirror padding)</div><div class="line">      --hot-point-x arg      Hot point x coordinate (considered centered <span class="keywordflow">if</span></div><div class="line">                             no value is provided)</div><div class="line">      --hot-point-y arg      Hot point y coordinate (considered centered <span class="keywordflow">if</span></div><div class="line">                             no value is provided)</div><div class="line"></div><div class="line"> streaming options:</div><div class="line">      --stream                  Enable stream mode</div><div class="line">      --block-width arg         Initial width of a stream block (<span class="keywordflow">default</span>:</div><div class="line">                                256)</div><div class="line">      --block-height arg        Initial height of a stream block (<span class="keywordflow">default</span>:</div><div class="line">                                256)</div><div class="line">      --no-block-resizing       Disable block resizing optimization</div><div class="line">      --parallel-workers [=arg(=1)]</div><div class="line">                                Parallel workers used to compute resampling</div><div class="line">                                (8 max) (<span class="keywordflow">default</span>: 1)</div></div><!-- fragment --><h4>Processing mode options</h4>
<h5>Regular mode</h5>
<p>Regular mode (default mode) will put the whole image in memory and then processed it. <b>This mode should only be used on small image</b>.</p>
<p>The following command line will zoom in the image <code>/path/to/input-file.tif</code> by 4/3 with the periodic plus smooth image decomposition, apply the filter <code>/path/to/filter-image-4-3.tif</code> to the zoomed image and write the result into <code>/path/to/output-file.tif</code>.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> -r 4:3 \</div><div class="line">         --filter /path/to/filter-image-4-3.tif \</div><div class="line">         /path/to/input-file.tif /path/to/output-file.tif</div></div><!-- fragment --><h5>Stream mode</h5>
<p>Stream mode is activated with the option <code>--stream</code>. It will cut the image into multiple blocks of small size (default block size is 256x256). Each block will be processed separately and result blocks will be aggregated to generate the output image. <b>This mode must be used on large image.</b></p>
<p>Stream mode can be run in mono-threaded context (<code>--parallel-workers=1</code>) or in multi-threaded context (<code>--parallel-workers=N</code> where N is the requested number of threads which will compute the resampling).</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> -r 4:3 \</div><div class="line">         --stream --parallel-workers=4 \</div><div class="line">         --filter /path/to/filter-image-4-3.tif \</div><div class="line">         /path/to/input-file.tif /path/to/output-file.tif</div></div><!-- fragment --><p>It is possible to customize block size with the options <code>--block-witdh=XXX</code> and <code>--block-height=YYY</code>.</p>
<p>Default behavior tries to optimize given block size so that the processed block (block size + filter margins) width and height are dyadic. You can disable this optimization with the option <code>--no-block-resizing</code>.</p>
<p>When dealing with real zoom, block width and height are computed so that they comply with the zoom ratio.</p>
<h4>Resampling options</h4>
<p>Resampling ratio is specified with the option <code>-r</code>. Expected format ratios are:</p><ul>
<li><code>-r INPUT_RESOLUTION</code> where INPUT_RESOLUTION is a positive integer (e.g. <code>-r 2</code>).</li>
<li><code>-r INPUT_RESOLUTION:OUTPUT_RESOLUTION</code> where INPUT_RESOLUTION and OUTPUT_RESOLUTION are positive integers (e.g. <code>-r 2:1</code>).</li>
</ul>
<p>Sirius can use two image decomposition algorithms:</p><ul>
<li>Periodic plus Smooth (default behavior) is splitting the input image into a periodic part and a smooth image part.</li>
<li>None (<code>--no-image-decomposition</code>) is using raw image data without any processing.</li>
</ul>
<p>Sirius can use two upsampling strategies:</p><ul>
<li>Periodization: default behavior if a filter is provided.</li>
<li>Zero padding: default algorithm if no filter is provided.</li>
</ul>
<p>Upsampling strategies can be forced with the following options:</p><ul>
<li><code>--upsampling-zero-padding</code></li>
<li><code>--upsampling-periodization</code></li>
</ul>
<p><em>Force periodization upsampling without providing a filter will result in an error.</em></p>
<p>More details on algorithms in the <a href="https://dumasl.github.io/SIRIUS/html/upsampling/user_kernel.html#when-sirius-uses-a-filter-to-upsample-the-spectrum-is-periodized-instead-of-zero-padded">Theoretical Basis documentation</a>.</p>
<h4>Filter options</h4>
<p>A filter image path can be specified with the option <code>--filter</code>. This filter will be applied:</p><ul>
<li>on the resampled image if the image is upsampled.</li>
<li>on the source image if the image is downsampled.</li>
</ul>
<p>Default behavior will pad real input edges with a mirroring of the edges. <code>--zero-pad-real-edges</code> will change this strategy and zero pad real input edges.</p>
<p>It is assumed that the filter is already normalized. If not, the option <code>--filter-normalize</code> will normize it before any processing.</p>
<p>Finally, it is possible to give a filter which has an uncentered hot point by specifying its coordinates thanks to <code>--hot-point-x</code> and <code>--hot-point-y</code> options. In this case sirius will center the filter's hot point before any processing.</p>
<p>More details on filters in the <a href="https://dumasl.github.io/SIRIUS/html/upsampling/user_kernel.html">Theoretical Basis documentation</a>.</p>
<h4>Examples</h4>
<h5>Zoom in</h5>
<p>The following command line will zoom in <code>input/lena.jpg</code> by 2 using periodic plus smooth image decomposition and zero padding upsampling.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> -r 2:1 \</div><div class="line">         --upsample-zero-padding \</div><div class="line">         data/input/lena.jpg /tmp/lena_z2.jpg</div></div><!-- fragment --><p>The following command line will zoom in <code>input/lena.jpg</code> by 2 using periodic plus smooth image decomposition, periodization upsampling and filter for upsampling 2.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> -r 2 \</div><div class="line">         --filter data/filters/ZOOM_2.tif \
         data/input/lena.jpg /tmp/lena_z2.jpg</div></div><!-- fragment --><p>The following command line will zoom in <code>input/sentinel2_20m.tif</code> by 2 using stream mode and 8 workers, periodic plus smooth image decomposition, periodization upsampling and filter for upsampling 2.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> --stream --parallel-workers=8 \</div><div class="line">         -r 2 \</div><div class="line">         --filter data/filters/ZOOM_2.tif \
         data/input/sentinel2_20m.tif /tmp/sentinel2_20m_z2.tif</div></div><!-- fragment --><h5>Zoom out</h5>
<p>The following command line will zoom out <code>input/lena.jpg</code> by 1/2 using periodic plus smooth image decomposition and filter for downsampling 1/2.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> -r 1:2 \</div><div class="line">         --filter data/filters/ZOOM_1_2.tif \
         data/input/lena.jpg /tmp/lena_z2.jpg</div></div><!-- fragment --><p>The following command line will zoom out <code>input/disparity.png</code> by 1/2 using periodic plus smooth image decomposition and filter for downsampling 1/2.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> -r 1:2 \</div><div class="line">         --filter data/filters/ZOOM_1_2.tif \
         data/input/disparity.png /tmp/disparity_z1_2.jpg</div></div><!-- fragment --><p>The following command line will zoom out <code>input/sentinel2_10m.tif</code> by 1/2 using using stream mode and 8 workers, periodic plus smooth image decomposition and filter for downsampling 1/2.</p>
<div class="fragment"><div class="line">./<a class="code" href="namespacesirius.html">sirius</a> --stream --parallel-workers=8 \</div><div class="line">         -r 1:2 \</div><div class="line">         --filter data/filters/ZOOM_1_2.tif \
         data/input/sentinel2_10m.tif /tmp/sentinel2_10m_z1_2.tif</div></div><!-- fragment --><h3>Sirius library API</h3>
<p>Sirius is designed to be easy to use.</p>
<p>The main interface to compute a frequency resampling is <code>IFrequencyResampler</code> and it only requires an image, a zoom ratio and an optional filter.</p>
<p><code>IFrequencyResampler</code> objects are instantiated by the <code>FrequencyResamplerFactory</code>.</p>
<h4>Example without filter</h4>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="filter_8h.html">sirius/filter.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="frequency__resampler__factory_8h.html">sirius/frequency_resampler_factory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="image_8h.html">sirius/image.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">sirius/types.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// create an image</span></div><div class="line"><a class="code" href="classsirius_1_1Image.html">sirius::Image</a> image = {...};</div><div class="line"></div><div class="line"><span class="comment">// configure the zoom ratio</span></div><div class="line"><a class="code" href="classsirius_1_1ZoomRatio.html">sirius::ZoomRatio</a> zoom_ratio = <a class="code" href="classsirius_1_1ZoomRatio.html#ab29582f9e0c1c2cbea129d45a9902f9f">sirius::ZoomRatio::Create</a>(7, 5);</div><div class="line"></div><div class="line"><span class="comment">// compose a frequency resampler from sirius::ImageDecompositionPolicies and</span></div><div class="line"><span class="comment">//     sirius::FrequencyZoomStrategies enums</span></div><div class="line"><a class="code" href="classsirius_1_1IFrequencyResampler.html#a90cd25adbad80e357d6f9c0e87f9f6b0">sirius::IFrequencyResampler::UPtr</a> freq_resampler =</div><div class="line">      <a class="code" href="classsirius_1_1FrequencyResamplerFactory.html#a81badd7840ccc6163c3a195ffb2bb8a3">sirius::FrequencyResamplerFactory::Create</a>(</div><div class="line">            <a class="code" href="namespacesirius.html#a4c39db7e9f5d38adb6bc9c6d1980e1d7ad69ab8ff9ee15f0428c54ea9e6faddbd">sirius::ImageDecompositionPolicies::kPeriodicSmooth</a>,</div><div class="line">            <a class="code" href="namespacesirius.html#a4b0340354d296956cec5465a526ec760a4ec2fc39b15fad819da3c3c75d235a5a">sirius::FrequencyZoomStrategies::kZeroPadding</a>);</div><div class="line"></div><div class="line"><span class="comment">// compute the resampled image</span></div><div class="line"><a class="code" href="classsirius_1_1Image.html">sirius::Image</a> resampled_image = freq_resampler-&gt;Compute(</div><div class="line">      zoom_ratio, image, {}, {});</div></div><!-- fragment --><h4>Example with filter</h4>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="filter_8h.html">sirius/filter.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="frequency__resampler__factory_8h.html">sirius/frequency_resampler_factory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="image_8h.html">sirius/image.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">sirius/types.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// load an image</span></div><div class="line"><a class="code" href="classsirius_1_1Image.html">sirius::Image</a> image = {...};</div><div class="line"></div><div class="line"><span class="comment">// load a filter image</span></div><div class="line"><a class="code" href="classsirius_1_1Image.html">sirius::Image</a> filter_image = {...};</div><div class="line"></div><div class="line"><span class="comment">// configure the zoom ratio</span></div><div class="line"><a class="code" href="classsirius_1_1ZoomRatio.html">sirius::ZoomRatio</a> zoom_ratio = <a class="code" href="classsirius_1_1ZoomRatio.html#ab29582f9e0c1c2cbea129d45a9902f9f">sirius::ZoomRatio::Create</a>(7, 5);</div><div class="line"></div><div class="line"><span class="comment">// create a filter from an image file</span></div><div class="line"><a class="code" href="classsirius_1_1Filter.html">sirius::Filter</a> filter = <a class="code" href="classsirius_1_1Filter.html#a4ba359419600d5505faa63157b57ee18">sirius::Filter::Create</a>(filter_image, zoom_ratio);</div><div class="line"></div><div class="line"><span class="comment">// compose a frequency resampler from sirius::ImageDecompositionPolicies and</span></div><div class="line"><span class="comment">//     sirius::FrequencyZoomStrategies enums</span></div><div class="line"><a class="code" href="classsirius_1_1IFrequencyResampler.html#a90cd25adbad80e357d6f9c0e87f9f6b0">sirius::IFrequencyResampler::UPtr</a> freq_resampler =</div><div class="line">      <a class="code" href="classsirius_1_1FrequencyResamplerFactory.html#a81badd7840ccc6163c3a195ffb2bb8a3">sirius::FrequencyResamplerFactory::Create</a>(</div><div class="line">            <a class="code" href="namespacesirius.html#a4c39db7e9f5d38adb6bc9c6d1980e1d7ad69ab8ff9ee15f0428c54ea9e6faddbd">sirius::ImageDecompositionPolicies::kPeriodicSmooth</a>,</div><div class="line">            <a class="code" href="namespacesirius.html#a4b0340354d296956cec5465a526ec760a3d98ab3b461495073e1347ed5223244b">sirius::FrequencyZoomStrategies::kPeriodization</a>);</div><div class="line"></div><div class="line"><span class="comment">// compute the resampled image</span></div><div class="line"><a class="code" href="classsirius_1_1Image.html">sirius::Image</a> resampled_image = freq_resampler-&gt;Compute(</div><div class="line">      zoom_ratio, image, filter.<a class="code" href="classsirius_1_1Filter.html#a2119e2f38c662e9b52db4d5816243559">padding</a>(), filter);</div></div><!-- fragment --><h4>Thread safety</h4>
<p>Compute a resampled image with Sirius is thread safe so it is possible to use the same <code>IFrequencyResampler</code> object in a multi-threaded context.</p>
<p>Process an image with a <code>Filter</code> object is also thread safe so you can reuse the same filter in a multi-threaded context.</p>
<h2>Unit tests</h2>
<p>Running tests requires data features (input image, filters) which are available <a href="https://github.com/CS-SI/SIRIUS" title="Sirius test data features">here</a>.</p>
<p>You need to execute the tests in the root directory of those data features. Expected directory tree is: </p><div class="fragment"><div class="line">ROOT_DATA_FEATURES/input</div><div class="line">                  /filters</div><div class="line">                  /output</div></div><!-- fragment --><p><code>frequency_resampler_tests</code> and <code>functional_tests</code> will create output images in the directory <code>ROOT_DATA_FEATURES/output</code></p>
<h2>Acknowledgement</h2>
<p>Sirius developers would like to thank:</p><ul>
<li>Matteo Frigo, Steven G. Johnson et al. for <a href="http://www.fftw.org/fftw-paper-ieee.pdf" title="Matteo Frigo and Steven G. Johnson, “The design and implementation of FFTW3,” Proc. IEEE 93 (2), 216231 (2005)">FFTW3 library (GNU General Public License v3)</a></li>
<li><a href="http://www.gdal.org/" title="Geospatial Data Abstraction Library">GDAL (MIT License)</a> project team</li>
<li>Gabi Melman et al. for <a href="https://github.com/gabime/spdlog" title="spdlog">spdlog (MIT License)</a></li>
<li>Jarryd Beck et al. for <a href="https://github.com/jarro2783/cxxopts" title="cxxopts">cxxopts (MIT License)</a></li>
<li><a href="https://github.com/catchorg/Catch2/tree/v2.2.3" title="Catch2">Catch2 (Boost Software License - Version 1.0)</a> project team</li>
<li><a href="https://github.com/Microsoft/GSL" title="Guideline Support Library">GSL (MIT License)</a> project team</li>
<li>Ryan Pavlik et al. for <a href="https://github.com/rpavlik/cmake-modules" title="CMake Modules">cmake-modules (Boost Software License - Version 1.0)</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
